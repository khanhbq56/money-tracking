{% extends 'base.html' %}
{% load i18n %}
{% load static %}

{% block title %}{% trans "Privacy Policy" %} - Money Tracker{% endblock %}

{% block content %}
<!-- Sticky Navigation Bar -->
<div class="sticky top-0 z-50 bg-white/95 backdrop-blur-sm border-b border-gray-200 shadow-sm sticky-nav" id="legal-nav">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex items-center justify-between py-3">
            <!-- Back to App Button -->
            <a href="/" class="inline-flex items-center px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold text-sm rounded-lg shadow-lg hover:from-purple-700 hover:to-pink-700 hover:shadow-xl transition-all duration-300 transform hover:scale-105 back-to-app-btn">
                <i class="fas fa-arrow-left mr-2"></i>
                <span>{% trans "back_to_app" %}</span>
            </a>
            
            <!-- Language Switcher -->
            <div class="relative">
                <button id="language-switcher" class="w-10 h-10 bg-gray-100 hover:bg-gray-200 rounded-lg flex items-center justify-center transition-colors">
                    <span id="current-flag">
                        {% if LANGUAGE_CODE == 'vi' %}
                            <img src="{% static 'images/flags/vi.svg' %}" alt="flag" style="width: 20px; height: 20px; max-width: none;">
                        {% else %}
                            <img src="{% static 'images/flags/en.svg' %}" alt="flag" style="width: 20px; height: 20px; max-width: none;">
                        {% endif %}
                    </span>
                </button>
                <div id="language-dropdown" class="absolute top-full right-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg dropdown-shadow z-50 hidden min-w-[140px]">
                    <a href="?lang=vi" class="px-4 py-2 hover:bg-gray-100 cursor-pointer flex items-center space-x-2 rounded-t-lg no-underline text-gray-700">
                        <img src="{% static 'images/flags/vi.svg' %}" alt="Tiếng Việt" class="w-5 h-5">
                        <span class="text-sm">Tiếng Việt</span>
                    </a>
                    <a href="?lang=en" class="px-4 py-2 hover:bg-gray-100 cursor-pointer flex items-center space-x-2 rounded-b-lg no-underline text-gray-700">
                        <img src="{% static 'images/flags/en.svg' %}" alt="English" class="w-5 h-5">
                        <span class="text-sm">English</span>
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="min-h-screen bg-gray-50 py-12">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
        <!-- Header -->
        <div class="text-center mb-12">
            <h1 class="text-4xl font-bold text-gray-900 mb-4">
                🔒 {% trans "Privacy Policy" %}
            </h1>
            <p class="text-xl text-gray-600">
                {% trans "Your privacy is important to us" %}
            </p>
            <p class="text-sm text-gray-500 mt-2">
                {% trans "Last updated" %}: {{ last_updated|default:"2024-01-15" }}
            </p>
        </div>

        <!-- Content -->
        <div class="bg-white rounded-lg shadow-lg p-8 prose prose-lg max-w-none">
            
            <!-- Introduction -->
            <section class="mb-8">
                <h2 class="text-2xl font-semibold text-gray-800 mb-4">
                    📋 {% trans "Introduction" %}
                </h2>
                <p class="text-gray-700 leading-relaxed">
                    {% trans "privacy_intro_text" %}
                </p>
            </section>

            <!-- Data Collection -->
            <section class="mb-8">
                <h2 class="text-2xl font-semibold text-gray-800 mb-4">
                    📊 {% trans "Data Collection" %}
                </h2>
                
                <h3 class="text-xl font-medium text-gray-700 mb-3">
                    {% trans "personal_information" %}
                </h3>
                <p class="text-gray-700 mb-4">
                    {% trans "we_collect_minimal_personal_information" %}
                </p>
                <ul class="list-disc pl-6 text-gray-700 space-y-2">
                    <li><strong>{% trans "email_address" %}</strong> - {% trans "for_account_auth" %}</li>
                    <li><strong>{% trans "name" %}</strong> - {% trans "from_google_oauth" %}</li>
                    <li><strong>{% trans "profile_picture_url" %}</strong> - {% trans "from_google_oauth_personalization" %}</li>
                    <li><strong>{% trans "google_id" %}</strong> - {% trans "unique_identifier_oauth" %}</li>
                </ul>

                <h3 class="text-xl font-medium text-gray-700 mb-3 mt-6">
                    {% trans "financial_data" %}
                </h3>
                <ul class="list-disc pl-6 text-gray-700 space-y-2">
                    <li><strong>{% trans "transaction_records" %}</strong> - {% trans "amount_description_date" %}</li>
                    <li><strong>{% trans "financial_patterns" %}</strong> - {% trans "aggregated_spending_saving" %}</li>
                    <li><strong>{% trans "ai_confidence_scores" %}</strong> - {% trans "transaction_categorization_accuracy" %}</li>
                </ul>

                <h3 class="text-xl font-medium text-gray-700 mb-3 mt-6">{% trans "technical_data" %}</h3>
                <ul class="list-disc pl-6 text-gray-700 space-y-2">
                    <li><strong>{% trans "ip_address" %}</strong> - {% trans "security_login_tracking" %}</li>
                    <li><strong>{% trans "session_data" %}</strong> - {% trans "maintaining_authenticated_sessions" %}</li>
                    <li><strong>{% trans "usage_analytics" %}</strong> - {% trans "feature_usage_improvement" %}</li>
                </ul>
            </section>

            <!-- Data Usage -->
            <section class="mb-8">
                <h2 class="text-2xl font-semibold text-gray-800 mb-4">
                    🎯 {% trans "how_we_use_your_data" %}
                </h2>
                <ul class="list-disc pl-6 text-gray-700 space-y-2">
                    <li>{% trans "data_usage_1" %}</li>
                    <li>{% trans "data_usage_2" %}</li>
                    <li>{% trans "data_usage_3" %}</li>
                    <li>{% trans "data_usage_4" %}</li>
                    <li>{% trans "data_usage_5" %}</li>
                    <li>{% trans "data_usage_6" %}</li>
                </ul>
            </section>

            <!-- Data Sharing -->
            <section class="mb-8">
                <h2 class="text-2xl font-semibold text-gray-800 mb-4">
                    🚫 {% trans "data_sharing_policy" %}
                </h2>
                <div class="bg-green-50 border-l-4 border-green-400 p-4 mb-4">
                    <p class="text-green-800 font-semibold">
                        ✅ {% trans "data_sharing_commitment" %}
                    </p>
                </div>
                
                <p class="text-gray-700 mb-4">{% trans "limited_exceptions_intro" %}</p>
                <ul class="list-disc pl-6 text-gray-700 space-y-2">
                    <li>{% trans "exception_1" %}</li>
                    <li>{% trans "exception_2" %}</li>
                    <li>{% trans "exception_3" %}</li>
                </ul>
            </section>

            <!-- Data Security -->
            <section class="mb-8">
                <h2 class="text-2xl font-semibold text-gray-800 mb-4">
                    🔐 {% trans "data_security" %}
                </h2>
                <ul class="list-disc pl-6 text-gray-700 space-y-2">
                    <li><strong>{% trans "encryption_in_transit" %}</strong> - {% trans "encryption_in_transit_desc" %}</li>
                    <li><strong>{% trans "encryption_at_rest" %}</strong> - {% trans "encryption_at_rest_desc" %}</li>
                    <li><strong>{% trans "secure_authentication" %}</strong> - {% trans "secure_authentication_desc" %}</li>
                    <li><strong>{% trans "access_controls" %}</strong> - {% trans "access_controls_desc" %}</li>
                    <li><strong>{% trans "regular_security_audits" %}</strong> - {% trans "regular_security_audits_desc" %}</li>
                </ul>
            </section>

            <!-- Demo Accounts -->
            <section class="mb-8">
                <h2 class="text-2xl font-semibold text-gray-800 mb-4">
                    👤 {% trans "demo_accounts" %}
                </h2>
                <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-4">
                    <p class="text-yellow-800">
                        <strong>{% trans "demo_account_policy" %}:</strong> {% trans "demo_account_policy_text" %}
                    </p>
                </div>
            </section>

            <!-- Data Retention -->
            <section class="mb-8">
                <h2 class="text-2xl font-semibold text-gray-800 mb-4">
                    📅 {% trans "data_retention" %}
                </h2>
                <ul class="list-disc pl-6 text-gray-700 space-y-2">
                    <li><strong>{% trans "account_data" %}</strong> - {% trans "account_data_retention" %}</li>
                    <li><strong>{% trans "transaction_data" %}</strong> - {% trans "transaction_data_retention" %}</li>
                    <li><strong>{% trans "demo_accounts" %}</strong> - {% trans "demo_accounts_retention" %}</li>
                    <li><strong>{% trans "login_logs" %}</strong> - {% trans "login_logs_retention" %}</li>
                </ul>
            </section>

            <!-- Your Rights -->
            <section class="mb-8">
                <h2 class="text-2xl font-semibold text-gray-800 mb-4">
                    ⚖️ {% trans "your_rights" %}
                </h2>
                <ul class="list-disc pl-6 text-gray-700 space-y-2">
                    <li><strong>{% trans "access" %}</strong> - {% trans "access_desc" %}</li>
                    <li><strong>{% trans "correction" %}</strong> - {% trans "correction_desc" %}</li>
                    <li><strong>{% trans "deletion" %}</strong> - {% trans "deletion_desc" %}</li>
                    <li><strong>{% trans "export" %}</strong> - {% trans "export_desc" %}</li>
                    <li><strong>{% trans "restriction" %}</strong> - {% trans "restriction_desc" %}</li>
                </ul>
                
                <div class="bg-blue-50 border-l-4 border-blue-400 p-4 mt-4">
                    <p class="text-blue-800">
                        <strong>{% trans "to_exercise_rights" %}:</strong> {% trans "contact_privacy_email" %}
                        <a href="mailto:privacy@moneytracker.app" class="underline">privacy@moneytracker.app</a>
                    </p>
                </div>
            </section>

            <!-- Cookies -->
            <section class="mb-8">
                <h2 class="text-2xl font-semibold text-gray-800 mb-4">
                    🍪 {% trans "cookies_local_storage" %}
                </h2>
                <p class="text-gray-700 mb-4">{% trans "cookies_intro" %}</p>
                <ul class="list-disc pl-6 text-gray-700 space-y-2">
                    <li><strong>{% trans "session_cookies" %}</strong> - {% trans "session_cookies_desc" %}</li>
                    <li><strong>{% trans "preference_storage" %}</strong> - {% trans "preference_storage_desc" %}</li>
                    <li><strong>{% trans "security_tokens" %}</strong> - {% trans "security_tokens_desc" %}</li>
                </ul>
            </section>

            <!-- Children's Privacy -->
            <section class="mb-8">
                <h2 class="text-2xl font-semibold text-gray-800 mb-4">
                    👶 {% trans "childrens_privacy" %}
                </h2>
                <p class="text-gray-700">
                    {% trans "childrens_privacy_text" %}
                </p>
            </section>

            <!-- Changes to Policy -->
            <section class="mb-8">
                <h2 class="text-2xl font-semibold text-gray-800 mb-4">
                    📝 {% trans "changes_to_policy" %}
                </h2>
                <p class="text-gray-700">
                    {% trans "changes_to_policy_text" %}
                </p>
            </section>

            <!-- Contact -->
            <section class="mb-8">
                <h2 class="text-2xl font-semibold text-gray-800 mb-4">
                    📧 {% trans "contact_us" %}
                </h2>
                <p class="text-gray-700 mb-4">
                    {% trans "privacy_contact_intro" %}
                </p>
                <div class="bg-gray-50 p-4 rounded-lg">
                    <p class="text-gray-700">
                        <strong>{% trans "email" %}:</strong> privacy@moneytracker.app<br>
                        <strong>{% trans "response_time" %}:</strong> {% trans "within_48_hours" %}<br>
                        <strong>{% trans "languages" %}:</strong> {% trans "vietnamese_english" %}
                    </p>
                </div>
            </section>
        </div>
    </div>
</div>
{% endblock %}

<script>
// Add scroll effect for sticky navigation
window.addEventListener('scroll', function() {
    const nav = document.getElementById('legal-nav');
    if (window.scrollY > 50) {
        nav.classList.add('scrolled');
    } else {
        nav.classList.remove('scrolled');
    }
});
</script> 